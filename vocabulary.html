<!DOCTYPE html>

<Content-Type: text/html; charset=utf-8>
<html>
<title>Vocabulary training</title>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
var vocabularySetFull = [
  ["sun", 		"http://www.webweaver.nu/clipart/img/nature/planets/sun-wearing-sunglasses.png"],
  ["jump",	 	"http://cdni.wired.co.uk/620x413/g_j/jump.jpg"],
  ["tummy",		"http://thepropertymarket.co.nz/wp-content/uploads/2015/01/bellybutton.jpg"],
  ["shorts", 	"http://www.selectism.com/news/wp-content/uploads/2012/05/outlier-three-way-shorts-8.jpg"],
  ["T-shirt", 	"http://www.clothes2order.com/images/res/Tagless_Premium_TShirt_15_568_300_300.jpg"],
  ["skirt", 	"http://ak2.polyvoreimg.com/cgi/img-thing/size/l/tid/99157623.jpg"],
  ["hat", 		"http://assets.coolhunting.com/coolhunting/mt_asset_cache/2012/11/Norse-Projects-hat-thumb-307x309-50556.jpg"],
  ["sweater", 	"http://www.oconnellsclothing.com/images/Z/oconnells-irish-fisherma-19983z.jpg"],
  ["jeans", 	"http://matchem.com/wp-content/uploads/2015/03/533ca89b8af6besq-jeans-081512-xlg.jpg"],
  ["rain", 		"http://i.ytimg.com/vi/aIHtQUnpl5I/hqdefault.jpg"],
  ["wind", 		"http://dqbasmyouzti2.cloudfront.net/assets/content/cache/made/content/images/articles/wind-economy_310_224.jpg"],
  ["snow", 		"https://nsidc.org/sites/nsidc.org/files/images//snowycreek.jpg"],
  ["hot", 		"http://images.sodahead.com/polls/001895933/4914131758_hot_sweating_sun1_xlarge.jpeg"],
  ["cold", 		"http://pugetsoundblogs.com/forecasting-kitsap/files/2012/06/cold-summer-6-6-12-300x266.jpg"],
  ["hands", 	"http://www.blitzbusinesssuccess.com/wp-content/uploads/2012/04/HandsRaised.jpg"],
  ["feet", 		"http://www.acehsa.org/wp-content/uploads/2012/12/feet.jpg"],
  ["one", 		"http://www.clker.com/cliparts/R/r/2/q/P/4/blue-number-one-hi.png"],
  ["two", 		"http://images.clipartpanda.com/number-2-clipart-11478-blue-number-two-clip-art.png"],
  ["three", 	"http://1.bp.blogspot.com/-4S1Yb3F7wBM/UiFOlKuWR8I/AAAAAAAABKs/FDWcNXN-WXg/s1600/three.png"],
  ["eyes", 		"http://fc05.deviantart.net/fs70/i/2009/341/9/3/Eyes_Drawings__by_Psychosomatic_Psyche.jpg"],
  ["ears", 		"http://i.telegraph.co.uk/multimedia/archive/01735/ears_1735848c.jpg"],
  ["mouth", 	"http://images.clipartpanda.com/mouth-clip-art-mouth120212.jpg"],
  ["nose", 		"http://blogs.discovermagazine.com/d-brief/files/2013/04/nose.jpg"],
  ["leg", 		"http://www.shopforshops.com/www/61/files/b9350sk.jpg"],
  ["arm", 		"https://0.s3.envato.com/files/1668706/Arm%20Over%20White%20Background.jpg"],
  ["happy", 	"http://www.easypacelearning.com/images/happy.png"],
  ["sad", 		"http://mazakmasti.in/wp-content/uploads/2015/01/Sad-smiley-with-tears.png"],
  ["wing", 		"http://natureskills.wildernessawaren.netdna-cdn.com/wp-content/uploads/2010/12/slotted_high_lift_wing.jpg"],
  ["teeth", 	"https://metrouk2.files.wordpress.com/2015/02/teeth.jpg"],
  ["head", 		"http://previews.123rf.com/images/supertrooper/supertrooper1406/supertrooper140600067/29483979-Human-head-isolated-on-a-white-background-Stock-Photo.jpg"],
  ["hair", 		"https://www.bulletproofexec.com/wp-content/uploads/2015/03/healthy-hair.jpg"],
  ["snowman", 	"http://stemjobs.com/wp-content/uploads/2014/12/snowman.jpg"],
  ["black", 	"http://the-adventures-of-wood-wall.weebly.com/uploads/2/6/1/4/26143897/7833741_orig.png"],
  ["eye", 		"http://globe-views.com/dcim/dreams/eye/eye-06.jpg"],
  ["ear", 		"http://images.wisegeek.com/human-ear-against-brown-hair.jpg"],
  ["foot", 		"http://tendonitisrx.com/wp-content/uploads/2011/09/Foot-Tendonitis.jpg"],
  ["four", 		"http://2.bp.blogspot.com/-x0uSxqUaYQA/UCEr1WV_1AI/AAAAAAAAC_0/QHrtbsfcK1s/s1600/blue-number-four-md.png"],
  ["five", 		"https://lma.ca/wp-content/uploads/2014/03/Five.jpg"],
  ["six", 		"http://www.clker.com/cliparts/0/r/a/q/N/c/six-hi.png"]
  
];

var congratsSet = [
	["Congratulations from Batman!", "http://media.giphy.com/media/5g0mypSSPupO0/giphy.gif"],
	["Hurrrrrrraa!", "http://media.giphy.com/media/BQAk13taTaKYw/giphy.gif"],
	["Great job!", "http://media.giphy.com/media/TzSsE5GIx8MJa/giphy.gif"]
];

var questionNumber = 1;
var currentItem;
var vocabularySet;
var testSetLength = 20;

function getNextQuestion() {
	if (vocabularySet.length > 0) {
		var randomNum = Math.floor(Math.random() * vocabularySet.length);
		currentItem = vocabularySet[randomNum];
		var imagePath = currentItem[1];
		$("#quizImage").attr('src', imagePath);
		$("#checkAnswerButton").show();
		$("#nextQuestion").hide();
		$("#feedback").empty();
		$("#correctAnswer").empty();
		$("#answer").val("");
		$("#answer").show();
		$("#headline").html("What can you see on the picture below? [Points: " + (questionNumber - 1) + " of " + testSetLength + "]")
	} else {
	var randomGrats = Math.round(Math.random() * congratsSet.length);
	currGrats = congratsSet[randomGrats];
	$("#gratsText").html(currGrats[0]);
	$("#gratsImage").attr('src', currGrats[1]);	
	$("#congratulations").show();
	$("#quiz").hide();
	}
};

function checkAnswer() {
    var givenAnswer, text;

    // Get the value of the input field with id="answer"
    givenAnswer = document.getElementById("answer").value;

    if (givenAnswer == currentItem[0]) {
        text = 'Correct!';
		$("#feedback").css('color','green');
		$("#nextQuestion").show();
		var index = vocabularySet.indexOf(currentItem);
		if (index > -1) {
			vocabularySet.splice(index, 1);
		}
		questionNumber +=1;
    } else {
        text = 'Ops... Try again!';
		$("#feedback").css('color','red');
		$("#nextQuestion").hide();
    }
    $("#feedback").html(text);
};

function showAnswer() {
    $("#correctAnswer").html(currentItem[0]);
	$("#correctAnswer").show();
	$("#answer").hide();
	$("#nextQuestion").show();
	$("#checkAnswerButton").hide();
};

function startOver() {
	console.log("starting over");
	//vocabularySet = vocabularySetFull.slice(0);
	vocabularySet = getRandomVocabularySet(testSetLength);
	console.log(vocabularySetFull);;
	$("#congratulations").hide();
	$("#quiz").show();
	questionNumber = 1
	getNextQuestion();
};

function getRandomVocabularySet(setSize) {
	var outputSet = [];
	var vocabularySetTemp = vocabularySetFull.slice(0);
	while (setSize>0) {
	r = Math.round(Math.random() * vocabularySetTemp.length);
	outputSet.push(vocabularySetTemp[r])
	vocabularySetTemp.splice(r, 1)
	setSize--;
	}
	return outputSet;
};

$(document).keypress(function(e) {
    if(e.which == 13) {
		if ($("#congratulations").is(":visible") == false){
			if ($("#feedback").html() == 'Correct!') {
				getNextQuestion()
			} else {
				checkAnswer();
			}
		}
    }
});

$(document).ready(function() {
	vocabularySet = getRandomVocabularySet(testSetLength);
	$("#congratulations").hide();
	getNextQuestion();
});
</script>
</head>
 <style>
    body    {
        margin:0;
        padding:0;
		max-width:90%;
		max-height:90%;
		}
    #quiz    {       
        margin:0;
        padding:0;
        clear:both;		
		width:80vw;
		height:80vh;	
    }
    #quizImage   {
		max-width:90%;
		max-height:90%;
    }
    </style>
<body class="body">
<div id="quiz">
	<p id="headline" style="font-size: 2em"></p>
	<input id="answer" type="text">
	<button id="checkAnswerButton" onclick="checkAnswer()">Check!</button>
	<button id="showAnswer" onclick="showAnswer()">Show answer</button>
	<button id="nextQuestion" onclick="getNextQuestion()">Next</button>
	<p id="feedback" style="font-size: 1.875em"></p>
	<p id="correctAnswer" style="font-size: 2em; color: darkgreen"></p>
	<img id="quizImage" src="">
</div>

<div id="congratulations" align="center">
<p id="gratsText" style="font-size: 5em; color: blue"></p>
<img id="gratsImage" src=""><br>
<button onclick="startOver()">One more time!</button>
</div>
</body>
